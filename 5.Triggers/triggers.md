### Функции

Функции в PostgreSQL - это набор инструкций, сгруппированных вместе для выполнения определенной задачи. Функции могут
быть написаны на различных языках программирования, в данном случае используется язык PL/pgSQL. Функции позволяют
разделить и организовать код базы данных для повторного использования, облегчения обслуживания и повышения
производительности.

### Триггерные функции

Пример триггера

```sql
CREATE FUNCTION emp_stamp() RETURNS trigger AS
$emp_stamp$
BEGIN
  NEW.last_date := current_timestamp;
  NEW.last_user := OLD.current_user;
  INSERT anothre_table(last_date)
  VALUES (NEW.last_date);
  RETURN NEW;
END;
$emp_stamp$ LANGUAGE plpgsql;
```

Триггер при изменении данных объявляется как функция без аргументов и с типом результата trigger. Заметьте, что эта
функция должна объявляться без аргументов, даже если ожидается, что она будет получать аргументы, заданные в команде
CREATE TRIGGER — такие аргументы передаются через TG_ARGV, как описано ниже.

- NEW - Тип данных RECORD. Переменная содержит новую строку базы данных для команд INSERT/UPDATE в триггерах уровня
  строки. В триггерах уровня оператора и для команды DELETE эта переменная имеет значение null.
- OLD
  Тип данных RECORD. Переменная содержит старую строку базы данных для команд UPDATE/DELETE в триггерах уровня строки. В
  триггерах уровня оператора и для команды INSERT эта переменная имеет значение null.

### Triggers

Триггеры в базах данных используются для автоматического выполнения определенных действий при возникновении определенных
событий. Синтаксис создания триггера в различных СУБД может немного отличаться, но общие принципы остаются примерно
одинаковыми.

Пример создания триггера в MySQL:

```sql
CREATE TRIGGER trigger_name
    BEFORE/ AFTER INSERT / UPDATE / DELETE ON table_name
    FOR EACH ROW
EXECUTE FUNCTION;
```

Где:

- `trigger_name` - имя триггера
- `BEFORE/AFTER` - указывает, когда триггер должен срабатывать (до или после события)
- `INSERT/UPDATE/DELETE` - указывает на тип события, при котором триггер должен сработать
- `table_name` - имя таблицы, на которую установлен триггер
- `FOR EACH ROW` - указывает, что действие должно выполняться для каждой строки, удовлетворяющей условиям триггера
- `EXECUTE FUNCTION` - обрамляют тело триггера, внутри которого описываются действия, которые нужно выполнить при
  срабатывании триггера

Таким образом, триггеры в базах данных представляют собой мощный инструмент для автоматизации и управления данными,
позволяя выполнять различные действия при возникновении определенных событий.

### Задания

1. Очевидно, что если человек, сделал заказ, то он уже посетил пиццерию, реализуйте это через триггер в [1.sql](1.sql)

